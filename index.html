<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="CSS/style4.css">
    <link rel="stylesheet" type="text/css" href="CSS/dragula.min.css">
    <!--That DRAGULA is CSS, not JS ^^^-->

    <title>WriteRush</title>
    
    <audio id="clickSound1" src="assets/audio/click1.mp3" preload="auto"></audio>
    <audio id="clickSound2" src="assets/audio/click2.mp3" preload="auto"></audio>
    <audio id="dingSound" src="assets/audio/ding1.mp3" preload="auto"></audio>
    <audio id="punchSound" src="assets/audio/punch1.mp3" preload="auto"></audio>
    <audio id="noSound" src="assets/audio/silent.mp3" preload="auto"></audio> 
    <audio id="celebrate" src="assets/audio/celebrate.mp3" preload="auto"></audio>

    <audio id="clickSound5" src="assets/audio/click5.mp3" preload="auto"></audio>
    <audio id="clickSound3" src="assets/audio/click3.mp3" preload="auto"></audio>
    <audio id="clickSound4" src="assets/audio/click4.mp3" preload="auto"></audio>
    <audio id="ballSound" src="assets/audio/ball.mp3" preload="auto"></audio>
    <!--
    <audio id="bubbleSound1" src="assets/audio/bubble.mp3" preload="auto"></audio>
    <audio id="bubbleSound2" src="assets/audio/bubble2.mp3" preload="auto"></audio>
    <audio id="bubbleSound3" src="assets/audio/bubble3.mp3" preload="auto"></audio>
    -->
    <audio id="bubbleSound" src="assets/audio/raygun.mp3" preload="auto"></audio>
    <audio id="interfaceSound" src="assets/audio/interface.mp3" preload="auto"></audio>
    <audio id="snowSound" src="assets/audio/snow.mp3" preload="auto"></audio>
    <audio id="whooshSound" src="assets/audio/whoosh.mp3" preload="auto"></audio>
    <audio id="scribbleSound" src="assets/audio/scribble.mp3" preload="auto"></audio>





    
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <noscript>
        <h1>
        <strong>Enable JavaScript for this to work correctly.</strong>
        </h1>
    </noscript>
</head>
<body>
    <canvas id="particleCanvas"></canvas>
    <div class="mainContainer">
        <div class="navbar" id="upperNavbar">
            <div id="upperNavbarDiv">
                <div class="leftNavbar">
                    <button class="navbarButton" onclick="openFileModal(), openModal('fileModal')">
                        File
                    </button>
                    <button class="navbarButton" onclick="openSettings(), openModal('settingsModal')">
                        Settings
                    </button>
                    <button class="navbarButton" onclick="openData(), openModal('dataModal')">
                        Data
                    </button>
                </div>
                <div class="rightNavbar">
                    <button class="outlineButton" onclick="openModal('aboutModal')">WriteRush</button>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="sidebar" id="chapterSidebar">
                <div class="divs" id="chapterDiv">
                    <div id="chapterSection">
                        <!--
                        <button id="newChapterButton" class="outlineButton chapterNewButton">
                            <span class="material-icons quickAccess">add</span>
                        </button>
                        -->
                        <div id="newNoteDiv">
                            <button id="newChapterButton" class="chapterNewButton">
                                <span class="material-icons small">menu_book</span>
                            </button>
                            <button id="textNoteButton" class="chapterNewButton">
                                <span class="material-icons small">text_snippet</span>
                            </button>
                            <button id="imageNoteButton" class="chapterNewButton">
                                <span class="material-icons small">image</span>
                                <input type="file" class="numberInput" id="imageNoteInput" accept="image/*">
                            </button>
                            
                        </div>
                        <div id="chapterSectionDiv" class="chapterSectionDiv">
                            <!--CHAPTERS-->
                        </div>
                        <div class="hLine"></div>
                        <div id="notesSectionDiv" class="chapterSectionDiv">
                            <!--CHAPTERS-->
                        </div>
                    </div>
                </div>
            </div>
            <div class="sidebar" id="notesSidebar">
                <div class="divs" id="notesDiv">
                    <div id="imageNoteDisplay" class="imageNoteDisplay">
                        <img id="imageNote" draggable="false">
                    </div>
                    
                    <textarea id="notesTextarea" spellcheck="false"></textarea>
                    
                </div>
            </div>
            <div class="content">
                <div class="divs1">
                    <div class="divs" id="typeAreaDiv">
                        <div id="typeAreaVisuals">

                            <textarea id="typeArea" spellcheck="false"></textarea>
                        
                            <div class="progressBarContainer">
                                <div id="timeBar" class="progressBar"></div>
                            </div>
                            
                            <div id="progressBarContainer" class="progressBarContainer">
                                <div id="progressBar" class="progressBar"></div>
                            </div>
                            <div id="progressBarData">
                                <p id="progressBarText">Error in Displaying</p>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="sidebar" id="quickAccessSidebar">
                <div id="quickAccessDiv">
                    <button class="verticalButton" id="fullscreenButton" title="Toggle fullscreen.">
                        <span class="material-icons quickAccess">fullscreen</span>
                    </button>
                    <div class="hLine"></div>
                    <button id="addToGoalButton" class="verticalButton" title="Add to the word goal." onclick="add500toGoal()">
                        <span class="material-icons quickAccess">add</span>
                    </button>
                    <div class="hLine"></div>
                    <button class="verticalButton"id="pauseButton" title="Pause/unpause the timer.">
                        <span class="material-icons quickAccess">play_circle</span>
                    </button>
                    <button class="verticalButton"id="stopButton" title="Stop the timer.">
                        <span class="material-icons quickAccess">stop_circle</span>
                    </button>
                    <div class="hLine"></div>
                    <button class="verticalButton" id="redactButton" title="Redact the text.">
                        <span class="material-icons quickAccess">format_ink_highlighter</span>
                    </button>
                
                </div>
            </div>
        </div>
        
        <div class="navbar" id="lowerNavbar">
            <div id="lowerNavbarDiv">
                <!--These are added in JS-->
                <button onclick="newFile()" class="outlineButton" id="newFileButton">HI</button>
                <div id="fileDiv">
                    <button class="navbarButton">Error</button>
                    <button class="navbarButton">Error</button>
                    <button class="navbarButton">Error</button>
                </div>
            </div>
        </div>
    </div>
    
    <!--Modals-->
    <div id="settingsModal" class="modal">
        <div class="modalContent">
            <details>
                <summary><strong>Appearance</strong></summary>
                <br>
                Font Size: <input class="numberInput" type="number" id="fontSize" min="1" step="1" value="14">
                <br><br>
                Line Height: <input class="numberInput" type="number" id="lineHeightInput" min="1" step="0.1" value="1">
                <br><br>
                Font:
                    <select id="fontFamily">
                        <optgroup label="Serif">
                            <option value="Times New Roman, serif">Times New Roman</option>
                            <option value="Georgia, serif">Georgia</option>
                            <option value="'Palatino Linotype', 'Book Antiqua', serif">Palatino Linotype</option>
                            <option value="Garamond, serif">Garamond</option>
                            <option value="'Bookman Old Style', Bookman, serif">Bookman</option>
                            <option value="Merriweather">Merriweather</option>
                        </optgroup>
                        <optgroup label="Sans-Serif">
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
                            <option value="Verdana, sans-serif">Verdana</option>
                            <option value="Geneva, sans-serif">Geneva</option>
                        </optgroup>
                        <optgroup label="Monospace">
                            <option value="'Courier New', monospace">Courier New</option>
                            <option value="'Lucida Console', monospace">Lucida Console</option>
                            <option value="Monaco, monospace">Monaco</option>
                        </optgroup>
                        <optgroup label="Other">
                            <option value="Dyslexic">Dyslexic</option>
                        </optgroup>
                        <!--
                        <optgroup label="Illegible">
                            <option value="Redacted">Redacted</option>
                            <option value="Redacted2">Redacted2</option>
                            <option value="Runes1">Runes1</option>
                            <option value="Runes2">Runes2</option>
                            <option value="Runes3">Runes3</option>
                            <option value="Scribble">Scribble</option>
                        </optgroup>
                        -->
                    </select>
                <br><br>
                Night Mode: <input type="checkbox" class="checkbox" id="nightModeCheckbox">
                <br><br>
                <p id="bgFromFile">
                Background Image:
                    <label id="imageInputLabel" for="imageInput" class="numberInput">
                    None Selected</label>
                    <input type="file" class="numberInput" id="imageInput" accept="image/*"><button class="outlineButton" onclick="clearImages()">Clear</button>
                
                    <span id="sizeError" style="color: red;"></span>
                </p>
            </details> 
            <br>
            <br>
            <details>
                <summary><strong>Effects</strong></summary>
                <br>
                Typing Confetti Type: 
                    <select id="typingConfettiTypeInput">
                        <option value="0">Balls</option>
                        <option value="1">Confetti</option>
                        <option value="2">Stars</option>
                        <option value="3">Emojis</option>
                    </select>
                <br><br>
                Typing Confetti Count: <input class="slider" type="range" id="typingConfettiCountInput" min="0" max="10" value="2">
                <br><br>
                Screen Shake Intensity: <input class="slider" type="range" id="screenShakeIntensityInput" min="0" max="5" value="1" step="0.5">
                <br><br>
                Rainbow Text Streak: <input type="checkbox" class="checkbox" id="rainbowStreakCheckbox">
                <br><br>
                Rainbow Progress Bar: <input type="checkbox" class="checkbox" id="rainbowProgressBarCheckbox">
                <br><br>
                
                Progress Bar Color: 
                <label id="progressBarColorInputLabel" for="progressBarColorInput" class="numberInput">
                    Select Color</label>
                <input type="color" class="colorInput" id="progressBarColorInput">
                <button id="resetProgressBarColorButton" class="outlineButton">Reset</button>
                <br><br>
                Typing Sounds: 
                    <select id="typingSounds">
                        <option value="noSound">None</option>
                        <option value="clickSound1">Typewriter1</option>
                        <option value="clickSound2">Typewriter2</option>
                        <option value="clickSound3">Typewriter3</option>
                        <option value="clickSound4">Typewriter4</option>
                        <option value="dingSound">Ding</option>
                        <option value="punchSound">Punch</option>
                        <option value="ballSound">Ball</option>
                        <option value="bubbleSound">Bubble</option>
                        <option value="interfaceSound">Interface</option>
                        <option value="snowSound">Snow</option>
                        <option value="whooshSound">Whoosh</option>
                        <option value="scribbleSound">Scribble</option>

                    </select>
                    <br><br>
                Fast Sounds (Better performance, less quality): <input type="checkbox" class="checkbox" id="fastSoundsCheckbox">
            </details>  
            <br>
            <br>
            <details>
                <summary><strong>Other</strong></summary>
                <br>
                Exclude by Default: <input type="checkbox" class="checkbox" id="excludeDefaultCheckbox">
                <br><br>
                Quick Add Word Goal: <input class="numberInput" type="number" id="addToGoalInput" min="1" step="1">
                <br><br>
                Daily Streak Override: <input class="numberInput" type="number" id="dailyStreakInput" min="0" step="1">
                <br><br>
                Required Time for Streak (sec): <input class="numberInput" type="number" id="streakCompletionTimeInput" min="0" step="1">
                <br><br>
                <button id="resetAllButton"class="outlineButton" onclick='
                if (!dbAllowed) {
                    return;
                }
                if(confirm("Are you sure you want to reset all data?")) {
                    if(confirm("This will delete all data. Are you sure you want to do this?")) {
                        preventSave = true;
                        v = null;
                        clearAllData();
                        location.reload();
                        
                    }
                }'>Reset Data</button>
                (WARNING: This also deletes any work you have, so save it first!)
            </details>
        </div>
    </div>
    <div id="dataModal" class="modal">
        <div class="modalContent">
            <p>Word Goal: <input class="numberInput" type="number" id="wordGoalInput" min="0" step="1"></p>
            <br>
            <p>Remaining Word Goal: <input class="numberInput" type="number" id="remainingWordGoalInput" min="0" step="1"></p>
            <br>
            <p>Excluded Words: <input class="numberInput" type="number" id="excludeInput" min="1" step="1"> <button class="outlineButton" id="autoExcludeButton">Auto</button></p>
            <br>
            <p>Time Goal (in minutes): <input class="numberInput" type="number" id="timeGoalInput" min="0" step="1"></p>
            
            <br>
            <p id="wphDisplay">WPH: </p>
            <p id="belowWph"></p>
            <br>
            <br>
            <p id="wordCountDisplay">Word Count: </p>
            <p id="pageCountDisplay">Page Count: </p>
            <p id="readablityDisplay">Readability: </p>
            <p id="readingTimeDisplay">Reading Time: </p>
            <p id="charCountDisplay">Character Count (spaces): </p>
            <p id="charCountNoSpacesDisplay">Character Count (no spaces): </p>
            <p id="sentenceCountDisplay">Sentence Count: </p>
            <br>
            <br>
            <p id="dailyStreakDataDisplay">Daily Streak: </p>
            <p id="longestStreakDisplay">Longest Continual Streak: </p>
            <p id="sessionWritingTimeDisplay">Session Writing Time: </p>
            <p id="dailyWritingTimeDisplay">Today's Writing Time: </p>
        </div>
    </div>
    
    <div id="aboutModal" class="modal">
        <div class="modalContent">
            <details>
                <summary><strong>What is WriteRush?</strong></summary>
                <br>
                <p class="innerDetails">
                    WriteRush is an interactive writing software that motivates you to write. It's especially capable at writing first drafts!
                    <br><br>
                    The goal is to turn WriteRush into a software that can do anything you need writing-wise (except taking over the world). 
                </p>
            </details>
            <br>
            <br>
            <details>
                <summary><strong>Tips</strong></summary>
                <br>
                <details class="innerDetails">
                    <summary><strong>Image Notes</strong></summary>
                    <br>
                    <p class="innerDetails">
                        You should limit the number of image notes you have. Otherwise, WriteRush will start to get laggy.
                    </p>
                </details>
                <br>
                <details class="innerDetails">
                    <summary><strong>Dictation</strong></summary>
                    <br>
                    <p class="innerDetails">
                        You can write much faster with dictation! And guess what, WriteRush supports it! If you are on windows, press <kbd>Win</kbd>+<kbd>H</kbd> to turn on dictation. On Mac, press <kbd>Fn</kbd> twice.
                        <br><br>
                        Try it out!
                    </p>
                </details>
                <br>
                <details class="innerDetails">
                    <summary><strong>Keyboard Shortcuts</strong></summary>
                    <br>
                    <p class="innerDetails">
                        Speed up your writing even more with keyboard shortcuts! By learning a few simple combinations, you can navigate through WriteRush like a pro. Press <kbd>Ctrl</kbd>+<kbd>S</kbd> to export your work, <kbd>Ctrl</kbd>+<kbd>Z</kbd> to undo, <kbd>Ctrl</kbd>+<kbd>Y</kbd> to redo. Master these and more to become the superhero of typing!
                        <br><br>
                        Also, don't worry about saving! WriteRush does that instantly! You can have peace of mind, knowing that your work is always safe!
                    </p>
                </details>
            </details>
            <br>
            <br>
            <details>
                <summary><strong>About Me</strong></summary>
                <br>
                <p class="innerDetails">
                    Hey there! I'm Kurtis Kumar, the creator of WriteRush. I love writing, coding, and making things! I made WriteRush because I wanted to gamify writing and make it all around more enjoyable.
                    <br><br>
                    As an indie developer, I've spent countless hours building a tool that I hope enriches your writing journey.
                    <br><br>
                    WriteRush is more than a project; it's a labor of love. But love doesn't pay the bills, sadly! ðŸ˜… If WriteRush has inspired you, helped you beat writer's block, or even just made your days a little brighter, I'd be honored if you'd consider supporting my work.
                    <br><br>
                    A small contribution helps me continue to improve WriteRush, fix bugs, and add exciting new features. And it will keep WriteRush free and accessible to everyone.
                    <br><br>
                    Click here to support WriteRush:
                    <a href="https://www.buymeacoffee.com/kurtiskumar" target="_blank" rel="noopener noreferrer">
                        <button class="outlineButton" id="buyMeACoffeeButton">buymeacoffee.com/kurtiskumar</button>
                    </a>
                    <br><br>
                    <strong>
                    Thank you from the bottom of my heart. Happy writing! ðŸ˜„
                    </strong>
                    <br><br>
                    Also, feel free to check me out on other sites:
                    <a href="https://www.kurtiskumar.com" target="_blank" rel="noopener noreferrer"><button class="outlineButton" id="buyMeACoffeeButton">My Website</button></a>
                    <a href="https://kurtiskumar.itch.io" target="_blank" rel="noopener noreferrer"><button class="outlineButton" id="buyMeACoffeeButton">Itch.io</button></a>
                    <a href="https://www.patreon.com/kurtiskumar" target="_blank" rel="noopener noreferrer"><button class="outlineButton" id="buyMeACoffeeButton">Patreon</button></a>
                    <a href="https://www.instagram.com/kurtiskumarofficial" target="_blank" rel="noopener noreferrer"><button class="outlineButton" id="buyMeACoffeeButton">My Instagram</button></a>
                    <br><br>
                    Kurtis Kumar
                </p>
            </details>
        </div>
    </div>
    
    <div id="fileModal" class="modal">
        <div class="modalContent">
            <p id="fileNameDisplay">File Name: 
                <input spellcheck="false" type="text" class="numberInput" id="fileNameInput">
                <button class="outlineButton" id="saveFileNameButton">Save</button>
            </p>
            <br>
            <br>
            <button class="outlineButton" onclick="exportChapter()">Export Chapter</button>
            <br><br>
            <button class="outlineButton" onclick="exportFile()">Export File</button>
            <br><br>
            <button class="outlineButton" id="deleteFileButton" onclick="deleteFile(v.currentFileIndex)">Delete</button>
        </div>
    </div>

    
    <div id="startModal" class="modal">
        <div class="modalContent">
            <div style="text-align:center;">
                <h1 id="dailyStreakDisplay">There was an error in displaying this line!</h1>
                <br>
                <p id="doneStreakDisplay">There was an error in displaying this line!</p>
                <br>
                <h3 id="startModalText">
                    There was an error in displaying this line!
                </h3>
                <br>
                <p>
                    <p id="writeForSeconds">Write for seconds to increase your streak!</p>
                    <br><br>
                    WriteRush
                </p>
            </div>
            

        </div>
    </div>

    
    <div id="alertModal">
        <div class="alertModalContent">
            <div style="text-align: center;">
            <strong>
            <p id="alertModalText">There was an error in showing the correct text</p>
            </strong>
            <br>
            <p style="font-size: 14px;">Click to hide</p>
            </div>
        </div>
    </div>
    <script src="JS/getCaretCoordinates.js"></script>
    <script src="JS/confetti.browser.js"></script>
    <script src="JS/dragula.min.js"></script>
    <script>
        
        function loadScript(url) {
            const script = document.createElement('script');
            script.src = url;
            document.body.appendChild(script);
        }
        window.onload = (() => {
            loadScript('JS/load.js');
        })

    </script>
</body>
</html>